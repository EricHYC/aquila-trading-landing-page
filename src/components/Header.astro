---
import { getTransLink } from '../utils/langs'
import LanguageSwitcher from './LanguageSwitcher.astro'
const { language, translate, langSwitch, siteSettings } = Astro.props;


---
<header class="group absolute top-0 right-0 left-0 border-b border-border z-50" id="header">
  <nav class="container max-w-[1300px] mx-auto px-6 flex justify-between items-center py-6">
    <!-- Logo -->
    <div class="flex items-center gap-1 z-50">
      <a href={getTransLink(language, `/`)}>
        <img src={siteSettings.logo.filename} alt={siteSettings.logo.alt} />
      </a>
    </div>

    <!-- Navigation -->
    <ul class="fixed inset-0 flex flex-col items-center justify-center gap-8 bg-primary text-white text-2xl transform transition-transform duration-300 md:static md:flex-row md:bg-transparent md:text-[0.81rem] md:font-medium md:gap-0 md:translate-x-0 translate-x-full">
      {siteSettings.navigation.length &&
        siteSettings.navigation.map((navItem) => (
          <li>
            <a
              href={navItem.url.cached_url}
              class="block px-4 py-2 md:px-4 md:py-2 capitalize hover:opacity-80"
            >
              {navItem.label}
            </a>
          </li>
        ))
      }

      <!-- Mobile CTA at bottom -->
      <a
        href={getTransLink(language, ``)}
        class="mt-8 button--glass text-white px-6 py-3 text-lg border-white/50 bg-black/20 backdrop-blur-sm md:hidden"
      >
        {translate.becomeMember}
      </a>
    </ul>

    <!-- Desktop right side -->
    <div class="flex items-center gap-4">
      <LanguageSwitcher langSwitch={langSwitch} language={language} />
      <a
        href={getTransLink(language, ``)}
        class="button--glass hidden md:block text-white px-3 py-1.5 text-sm border-white/50 bg-black/20 backdrop-blur-sm"
      >
        {translate.becomeMember}
      </a>

      <!-- Hamburger Button -->
      <button
        class="md:hidden flex flex-col justify-between w-6 h-5 z-50 relative"
        onclick="document.getElementById('header').classList.toggle('open')"
      >
        <span class="block h-0.5 w-full bg-white transition-transform duration-300"></span>
        <span class="block h-0.5 w-full bg-white transition-opacity duration-300"></span>
        <span class="block h-0.5 w-full bg-white transition-transform duration-300"></span>
      </button>
    </div>
  </nav>
</header>
